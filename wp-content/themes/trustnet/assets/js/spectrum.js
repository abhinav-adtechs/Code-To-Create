jQuery(function($){var renderNodenum=(location.hash!="")?parseInt(location.hash.replace("#","")):25;var renderNodes=[];var renderFrames=24;var canvasElement=document.getElementById("spectrum");var canvasContext=canvasElement.getContext("2d");var canvasLengthX=$('#spectrum').parent().outerWidth();var canvasLengthY=$('#spectrum').parent().outerHeight();canvasElement.setAttribute("width",canvasLengthX);canvasElement.setAttribute("height",canvasLengthY);function animationInit(){clearCanvasElement();for(var i=0;i<renderNodenum;i++){renderNodes.push(new node());}}
function node(){this.px=Math.random()*canvasLengthX;this.py=Math.random()*canvasLengthY;this.sx=(Math.random()>0.5)?Math.random():-Math.random();this.sy=(Math.random()>0.5)?Math.random():-Math.random();this.draw=function(){canvasContext.fillStyle="#00BFFF";canvasContext.fillRect(this.px,this.py,0,0);}}
function renderNodespectrum(){clearCanvasElement();for(var i=0;i<renderNodes.length;i++){var node=renderNodes[i];node.px+=node.sx;node.py+=node.sy;if(node.px>canvasLengthX||node.px<0)node.sx=-node.sx;if(node.py>canvasLengthY||node.py<0)node.sy=-node.sy;node.draw();}
for(var i=0;i<renderNodes.length;i++){var node=renderNodes[i];for(var j=0;j<renderNodes.length;j++){var nodes=renderNodes[j];var diffX=node.px- nodes.px;var diffY=node.py- nodes.py;var diffT=Math.sqrt(diffX*diffX+ diffY*diffY);if(diffT<(canvasLengthX/4)){canvasContext.beginPath();canvasContext.moveTo(node.px,node.py);canvasContext.lineTo(nodes.px,nodes.py);canvasContext.strokeStyle="rgba(57, 63, 67, 1)";canvasContext.lineWidth=0.3;canvasContext.stroke();}}}}
function clearCanvasElement(){canvasContext.fillStyle="#2e3438";canvasContext.fillRect(0,0,canvasLengthX,canvasLengthY);}
window.requestAnimFrame=(function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){window.setTimeout(callback,1000/renderFrames);};})();function animationLoop(){renderNodespectrum();requestAnimFrame(animationLoop);}
animationInit();animationLoop();});